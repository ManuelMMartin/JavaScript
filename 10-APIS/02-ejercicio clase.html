<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ejercicio 2</title>
</head>
<style>
  img {
    top: 0;
    left: 0;
    right: 0;
    height: 70%;
    margin: auto;
  }
</style>

<body>


  <div id="base" class="grid"></div>


  <script>
    /*2. Disney
        Usa la api https://api.disneyapi.dev/characters/xxx parapedir un personaje aleatorio
        pasándole un número entre 001 y 500 en vez del xxx.. Crea un div en el que
        aparezca la foto, el nombre y el id. Si estuviera disponible, enumerar las películas
        donde ha salido.*/

    let impresion = ""
    let rand = Math.floor(Math.random() * 500 + 1)
    fetch(`https://api.disneyapi.dev/characters/${rand}`).then((respuesta) => respuesta.json()).then((datos) => {

      let respuesta = document.createElement("div")
      respuesta.innerHTML = `
                      <img class="img" src="${datos.imageUrl}" alt="${datos.name} image">
                      <h4><b>Nombre: ${datos.name}</b></h4>
                      <p><b>ID: ${datos._id}</b></p>`

      if (datos.films.length > 0) {
        let lista = ""
        for (let i = 0; i < datos.films.length; i++) {
          lista += `<li>${datos.films[i]}</li>`

        }
        respuesta.innerHTML += `<ul>${lista}</ul>`
      }
      document.body.appendChild(respuesta)
    })




  </script>
</body>

</html>
<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Paises</title>
</head>

<body>

    <style>
        .card {
            box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);
            transition: 0.3s;
        }

        .card:hover {
            box-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.2);
        }

        .container {
            padding: 2px 16px;
            display: grid;
            align-items: center;
            justify-content: center;
            max-width: 1200px;
            width: 100%;
            margin: auto;
        }

        .grid {
            display: grid;
            grid-gap: 32px;
            grid-template-columns: repeat(3, 1fr);
            margin-top: 80px;
        }

        .img {
            display: block;
            margin: auto;
            width: 100%;
            height: 250px;
            object-fit: cover;
        }

        .button {
            background-color: #4CAF50;
            /* Green */
            border: none;
            color: white;
            padding: 15px 32px;
            text-align: center;
            text-decoration: none;
            display: inline-block;
            font-size: 16px;
        }
    </style>

    <script>

        paises = [
            {
                pais: "españa",
                poblacion: 47450795,
                color: "red",
                superficie: 505944,
                bandera: "https://upload.wikimedia.org/wikipedia/commons/8/89/Bandera_de_Espa%C3%B1a.svg"
            },
            {
                pais: "francia",
                poblacion: 67407241,
                color: "blue",
                superficie: 675417,
                bandera: "https://upload.wikimedia.org/wikipedia/commons/b/bc/Flag_of_France_%281794%E2%80%931815%2C_1830%E2%80%931974%2C_2020%E2%80%93present%29.svg"
            },
            {
                pais: "alemania",
                poblacion: 83155031,
                color: "yellow",
                superficie: 375375,
                bandera: "https://upload.wikimedia.org/wikipedia/commons/b/ba/Flag_of_Germany.svg"
            },
            {
                pais: "italia",
                poblacion: 60257566,
                color: "green",
                superficie: 301340,
                bandera: "https://upload.wikimedia.org/wikipedia/commons/0/03/Flag_of_Italy.svg"
            },
            {
                pais: "portugal",
                poblacion: 10295909,
                color: "DarkGreen",
                superficie: 92090,
                bandera: "https://upload.wikimedia.org/wikipedia/commons/5/5c/Flag_of_Portugal.svg"
            },
            {
                pais: "irlanda",
                poblacion: 4857000,
                color: "DarkOrange",
                superficie: 70273,
                bandera: "https://upload.wikimedia.org/wikipedia/commons/4/45/Flag_of_Ireland.svg"
            },
        ]

        /*1. Paises
        Pedir al usuario tres nombres de países de la Unión europea y extraer los datos del objeto
        “paises”. Hay que asegurarse de que existen en el objeto y no son repetidos. Después:
        1. Los 3 paises deberán aparecer en el navegador. Los tres estarán colocados uno
        junto al otro, alineados horizontalmente.
        2. Mostrar una card con los datos correspondientes, Nombre, Población y superficie.
        3. En la imagen de la card, debera aparecer la bandera de cada país.
        4. Añade un botón a cada card: al hacer click se cambiará el color de fondo de esa
        tarjeta por el color de ese pais.*/


        let pais1 = window.prompt('Introduce un pais').toLowerCase()
        let pais2 = window.prompt('Introduce otro pais').toLowerCase()
        let pais3 = window.prompt('Introduce un tercer pais').toLowerCase()

        let container = document.createElement("div")
        container.classList.add('grid', 'container')
        document.body.appendChild(container)

        let card1 = document.createElement("div")
        card1.classList.add("card")
        let card2 = document.createElement("div")
        card2.classList.add("card")
        let card3 = document.createElement("div")
        card3.classList.add("card")

        container.appendChild(card1)
        container.appendChild(card2)
        container.appendChild(card3)

        function buscarPaises(arg1, arg2, arg3) {

            for (let entrada in paises) {
                let buscar = paises[entrada]
                if ((arg1 === buscar.pais && arg1 != arg2 && arg1 != arg3)) {
                    return buscar
                }
            }
        }

        let paisX = buscarPaises(pais1, pais2, pais3)
        let paisY = buscarPaises(pais2, pais1, pais3)
        let paisZ = buscarPaises(pais3, pais2, pais1)

        if (paisX != null && paisY != null && paisZ != null) {

            card1.innerHTML = `<img class="img" src="${paisX.bandera}" alt="${paisX.pais}">
        <p>${paisX.pais}</p>
        <p>${paisX.poblacion}</p>
        <p>${paisX.superficie}</p>
        <button class="button" id="button1" type="button">Cambiar color</button>`
            card2.innerHTML = `<img class="img" src="${paisY.bandera}" alt="${paisY.pais}">
        <p>${paisY.pais}</p>
        <p>${paisX.poblacion}</p>
        <p>${paisX.superficie}</p>
        <button class="button" id="button2" type="button">Cambiar color</button>`
            card3.innerHTML = `<img class="img" src="${paisZ.bandera}" alt="${paisZ.pais}">
        <p>${paisZ.pais}</p>
        <p>${paisX.poblacion}</p>
        <p>${paisX.superficie}</p>
        <button class="button" id="button3" type="button">Cambiar color</button>`
        } else {
            document.body.innerHTML = `<p>Esos paises no estan en la lista</p>`
        }

        button1.addEventListener('click', function () {
            card1.style.backgroundColor = `${paisX.color}`
        })
        button2.addEventListener('click', function () {
            card2.style.backgroundColor = `${paisY.color}`
        })
        button3.addEventListener('click', function () {
            card3.style.backgroundColor = `${paisZ.color}`
        })



        //en clase

        for (let entrada in paises) {

            if ((arg1 === entrada.pais &&
                arg1 != arg2 &&
                arg1 != arg3
            )) {
                return entrada
            }
        }


        let paisesFinal = []
        paisesFinal.push(buscarPaises(pais1, pais2, pais3))
        paisesFinal.push(buscarPaises(pais2, pais1, pais3))
        paisesFinal.push(buscarPaises(pais3, pais2, pais1))

        if (paisesFinal.length === 3) {
            let impresion = ""
            for (let paisBueno in paisesFinal) {
                impresion +=
                    `<img class="img" src="${paisX.bandera}" alt="${paisX.pais}">
        <p>${paisX.pais}</p>
        <p>${paisX.poblacion}</p>
        <p>${paisX.superficie}</p>
        <button class="button" id="${paisX.pais+"button"}" type="button">Cambiar color</button>`
            }
            let div = document.createElement("div")
            div.classList.add("container")
            div.innerHTML = impresion
            document.body.appendChild(div)
        } else {
            let h1 = document.createElement('p')
            h1.innerText = 'Tienes que elegir 3 paises distintos de la lista'
            document.body.appendChild(h1)
        }

            //creamos listeners

            for (let pais in paisesFinal) {
                documen.getElemenById(paisBueno.pais + "button").addEventListener("click", ()=>{documen.getElemenById(pais.pais).style.backgroundColor = paisBueno.color})
            
            }


    </script>
</body>

</html>